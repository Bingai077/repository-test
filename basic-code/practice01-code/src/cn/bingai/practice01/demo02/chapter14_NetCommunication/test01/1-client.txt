
PACKAGE COM.FILE;

IMPORT JAVA.IO.FILE;
IMPORT JAVA.IO.FILEWRITER;
IMPORT JAVA.IO.IOEXCEPTION;
IMPORT JAVA.IO.PRINTWRITER;

PUBLIC CLASS FILETEST {

	PUBLIC STATIC VOID MAIN(STRING []ARGS){
		FILE FILE = NEW FILE("F:/FILE.TXT");
		STRING S = "这是刚开始的文本";
		FILEWRITER FILEWRITER = NULL;
		PRINTWRITER PRINTWRITER = NULL;
		TRY {
			 FILEWRITER = NEW FILEWRITER(FILE);
			 FILEWRITER.WRITE(S);
			 FILEWRITER.CLOSE();
		} CATCH (IOEXCEPTION E) {
			E.PRINTSTACKTRACE();
		}FINALLY{
			IF(FILEWRITER!=NULL){
				TRY {
					FILEWRITER.CLOSE();
				} CATCH (IOEXCEPTION E) {
					E.PRINTSTACKTRACE();
				}
			}
		}

		TRY{
			STRING STR = "\R\N这是追加的文本";
			FILEWRITER = NEW FILEWRITER(FILE,TRUE);
			PRINTWRITER = NEW PRINTWRITER(FILEWRITER);
			PRINTWRITER.PRINTLN(STR);
			PRINTWRITER.CLOSE();
			FILEWRITER.CLOSE();
		}CATCH(EXCEPTION E){
			E.PRINTSTACKTRACE();
		}FINALLY{
			IF(PRINTWRITER!=NULL){
				PRINTWRITER.CLOSE();
			}
			IF(FILEWRITER!=N
ULL){
				TRY {
					FILEWRITER.CLOSE();
				} CATCH (IOEXCEPTION E) {
					E.PRINTSTACKTRACE();
				}
			}
		}
	}
}


